!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e){var t={Program:"Program",StructureDefinition:"StructureDefinition",StructureIdentifier:"StructureIdentifier",StructureBody:"StructureBody",PairDefinition:"PairDefinition",PairComponentKey:"PairComponentKey",PairComponentValue:"PairComponentValue",Transformer:{Str:{Pattern:"str-pattern"}},Str:"Str",StrChkFn:"isStr",Num:"Num",NumChkFn:"isNum",Bool:"Bool",BoolChkFn:"isBool",Ref:"Ref",RefChkFn:"isRef",Obj:"Obj",ObjChkFn:"isObj",Arr:"Arr",ArrChkFn:"isArr",Any:"Any",Fn:"Fn",UFn:"UFn",AbEq:"abEq",ArrAbEq:"arrAbEq",Rec:"Rec",Identity:"pass",Fail:"fail",TypeDef:"typedef",OList:"olist",Enum:"enum",EnumLookup:"enumLookup",EnumIterables:"enum-itrbls"},r={makeEntry:function(e,r,n){if(!(e in t))return Error("Unknown token type: ".concat(e));var o=function(e,t){return{properties:e=e||{},children:t=t||[]}}(r,n);return{nodeType:e,properties:r=o.properties,children:n=o.children}}};r.Word=t,e.exports=r},function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=e.exports={};r.getEnumInf=function(e){var t=e[Object.keys(e)[0]];return{type:t.typeProcessor[1],typeArgs:t.typeProcessor[2],typeProcessor:t.typeProcessor,fn:t.valueResolver[1],ns:t.valueResolver[3].ns}},r.isSimpleObj=function(e){return"object"===t(e)&&null!==e&&"Object"===e.constructor.name},r.isArray=function(e){return e instanceof Array},r.hashOfStr=function(e){var t=e.split("").reduce((function(e,t,r){return r%4||e.push(""),e[e.length-1]+=function(e){var t,r=e.toString(2);return(t=8-r.length)&&(r=Array.from({length:t}).map((function(){return 0})).join("")+r),r}(t.charCodeAt(0)),e}),[]).map((function(e){return parseInt(e,2)})),r=0,n=2147483648,o=t.reduce((function(e,t){return(e+=t)>=n&&(r++,e-=2*n),e}),0);return"".concat(o,".").concat(r)},r.hashOfObj=function(e){var t=function e(t){if(r.isArray(t)){for(var n,o=0;n=t[o++];)t[o-1]=e(n);return t}if(r.isSimpleObj(t)){var i,s,a={},u=Object.keys(t).sort(),c=!0,l=!1,p=void 0;try{for(var f,y=u[Symbol.iterator]();!(c=(f=y.next()).done);c=!0)s=t[i=f.value],a[i]=e(s)}catch(e){l=!0,p=e}finally{try{c||null==y.return||y.return()}finally{if(l)throw p}}return a}return t}(e),n=JSON.stringify(t);return r.hashOfStr(n)}},function(e){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(){y&&p&&(y=!1,p.length?f=p.concat(f):h=-1,f.length&&i())}function i(){if(!y){var e=n(o);y=!0;for(var t=f.length;t;){for(p=f,f=[];++h<t;)p&&p[h].run();h=-1,t=f.length}p=null,y=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function a(){}var u,c,l=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var p,f=[],y=!1,h=-1;l.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new s(e,t)),1!==f.length||y||n(i)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.prependListener=a,l.prependOnceListener=a,l.listeners=function(){return[]},l.binding=function(){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=r(4),s=r(0).Word,a=r(1),u=a.isArray,c=a.isSimpleObj,l=a.hashOfObj,p=1,f=2,y=-1,h=-2,m=function(e){var t={},r=[],n=0,o=!0;return r[n++]=e.on("enter",(function(e){for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r].preProcessor[1]?f:p)})),r[n++]=e.on("keyVisited",(function(e,r){t[r]=r in t?y:h})),r[n++]=e.on("exit",(function(){for(var r in t)({}).hasOwnProperty.call(t,r)&&(t[r]===p?(o=!1,e.report(r,i.KeyInSchemaNotInObj.msg())):t[r]===h&&(o=!1,e.report(r,i.KeyInObjNotInSchema.msg())))})),function(){return r.forEach((function(e){return e()})),o}},d=function(){return function(){return!0}},b=function(e){return null===(e=e.map((function(e){return"null"===e?null:parseInt(e,10)})))[0]&&(e[0]=Number.NEGATIVE_INFINITY),null===e[1]&&(e[1]=Number.POSITIVE_INFINITY),e},_=function(e,t,r,n){var o,s=e.value,a=e.key;return t=b(t),(o=s>=t[0]&&s<=t[1])||n.report(a,i.ValueOutSideRange.msg()),function(){return o}},g=function(e,t,r,n){var o,s=e.value,a=e.key;return t=b(t),(o=s>t[0]&&s<=t[1])||n.report(a,i.ValueOutSideRange.msg()),function(){return o}},v=function(e,t,r,n){var o,s=e.value,a=e.key;return t=b(t),(o=s>t[0]&&s<t[1])||n.report(a,i.ValueOutSideRange.msg()),function(){return o}},k=function(e,t,r,n){var o,s=e.value,a=e.key;return t=b(t),(o=s>=t[0]&&s<t[1])||n.report(a,i.ValueOutSideRange.msg()),function(){return o}},E=function(e,t,r,n){var s=e.value,a=e.key,u="string"==typeof s;return u||n.report(a,i.TypeMismatch.msg("string",o(s))),function(){return u}},T=function(e,t,r,n){var s=e.value,a=e.key,u="number"==typeof s;return u||n.report(a,i.TypeMismatch.msg("number",o(s))),function(){return u}},S=function(e,t,r,n){var s=e.value,a=e.key,u="boolean"==typeof s;return u||n.report(a,i.TypeMismatch.msg("number",o(s))),function(){return u}},A=function(e,t,r,n){var a=e.value,u=e.key,c=e.astVal,l=a instanceof Array;return l?!a.length&&1<c.typeProcessor.filter((function(e){return e===s.Arr})).length&&(l=!1,n.report(u,i.ArrayDimensionMismatch.msg())):n.report(u,i.TypeMismatch.msg("Arr",o(a))),function(){return l}},O=function(e,t,r,n){var o=e.value,s=e.key,a=o===t[0];return a||n.report(s,i.ValueMismatch.msg(t[0],o)),function(){return a}},P=function(){var e=0>=arguments.length?void 0:arguments[0],t=e.dim,r=e.currentDim,n=e.value,o=e.key,s=3>=arguments.length?void 0:arguments[3],a=1>=arguments.length?void 0:arguments[1];return t&&r&&t===r?O.apply(void 0,arguments):a&&a[0]instanceof Array&&n.length!==a[0].length?(s.report(o,i.ArrayMembersDifferent.msg(a[0].length,n.length)),function(){return!1}):function(){return!0}},C=function(e,t,r,n){var o=e.value,a=e.key,p=r.ast,f=!1,y=t[0];return(u(o)||c(o))&&(o=l(o)),y in p[s.EnumIterables]&&1===p[s.EnumIterables][y][o]&&(f=!0),f||n.report(a,i.ValueNotPresent.msg(o,y)),function(){return f}};e.exports={createContext:function(){var e,t={},r={};return t.NS={System:0,User:1,Local:2},t.def=(n(e={},t.NS.System,{isOptional:m,lcrcRange:_,lorcRange:g,loroRange:v,lcroRange:k,pass:d,isStr:E,isNum:T,isBool:S,isArr:A,abEq:O,arrAbEq:P,enumLookup:C}),n(e,t.NS.User,r),n(e,t.NS.Local,{}),e),t.get=function(e){return t.def[e]},t.set=function(e){if(null!==e)for(var t in e)({}).hasOwnProperty.call(e,t)&&(r[t]=e[t])},t.setLocal=function(e){t.def[t.NS.Local]=null===e?{}:e},t}}},function(e){var t={invalidTypedefId:new Error("Not a valid typedef identifier")};e.exports={ValueOutSideRange:{msg:function(){return"Value outside range"}},KeyInSchemaNotInObj:{msg:function(){return"Non optional Key present in schema but not in input object"}},KeyInObjNotInSchema:{msg:function(){return"Key present in input object but not in schema"}},TypeMismatch:{msg:function(e,t){return"Value of type ".concat(e," expected; received ").concat(t)}},ValueMismatch:{msg:function(e,t){return"Values not equal; expected: ".concat(e,", received: ").concat(t)}},ValueNotPresent:{msg:function(e,t){return"Value ".concat(e," is not present in enum ").concat(t)}},ArrayMembersDifferent:{msg:function(e,t){return"Different array length in comparison; expected length: ".concat(e,", received length: ").concat(t)}},ArrayDimensionMismatch:{msg:function(){return"Array of dimension mismatch"}},InvalidTypedefId:{errInst:function(){return t.invalidTypedefId}}}},function(e,t,r){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){var r,n,o;return e.typeProcessor[0]===a.Enum&&(r=e.typeProcessor[2],n=c(t[a.Enum][r]),e.typeProcessor=n.typeProcessor.slice(1),(o=e.valueResolver)[0]===a.Ref&&(e.valueResolver=t[a.Enum][r][o[1]].valueResolver)),e}function i(e,t,r){var n,o={},i={enter:[],exit:[],keyvisited:[]},s={};if("string"==typeof t)if(t in e[a.TypeDef])n=a.TypeDef;else if(t in e[a.OList])n=a.OList;else{if(!(t in e[a.Enum]))throw new Error("\n        The type definition `".concat(t,"` you wanted to use as a schema is not found.\n        It's case sensitive, please make sure the case matches with the definition.\n        Please make sure the spelling is correct.\n      "));n=a.Enum}else{if(t.astVal.typeProcessor[0]!==a.Arr)throw new Error("Unknown mount type. You should not get this issue.");n=a.Arr}return o.subentry=function(){return n===a.Enum||n===a.Arr},o.on=function(e,t){if((e=e.toLowerCase())in i)return function(e,t){return function(){return i[t].splice(e,1)}}(i[e].push(t)-1,e)},o.report=function(e,t){("string"!=typeof t||t.trim())&&(!(t instanceof Array)||t.length)&&Object.keys(t).length&&(s[e]=s[e]||[],s[e].push(t))},o.getCompleteReport=function(){return s},o.inst=n===a.Arr?function(){var e={},n={},o=t.astVal.typeProcessor.filter((function(e){return e===a.Arr})).length,s=0,u=0;return e.next=function(){var e,a,c=u,l=!1,p=!1,f=t.astVal;return 0===u&&(s++,i.enter.forEach((function(e){return e(f,n)})),!f.stackOfTypeProcessor&&(f.stackOfTypeProcessor=[]),!f.stackOfValueResolver&&(f.stackOfValueResolver=[]),f.stackOfTypeProcessor.push(f.typeProcessor),f.stackOfValueResolver.push(f.valueResolver),f.typeProcessor=f.typeProcessor.slice(1),f.valueResolver=f.valueResolver.slice(0)),u===r.length?(s--,i.exit.forEach((function(e){return e(f,n)})),f.typeProcessor=f.stackOfTypeProcessor.splice(f.stackOfTypeProcessor.length-1,1)[0],f.valueResolver=f.stackOfValueResolver.splice(f.stackOfValueResolver.length-1,1)[0],!f.stackOfTypeProcessor.length&&delete f.stackOfTypeProcessor,!f.stackOfValueResolver.length&&delete f.stackOfValueResolver,l=!0):(u++,e=r[c],(a=f.stackOfValueResolver[f.stackOfValueResolver.length-1][2])instanceof Array&&(c>=a[0].length&&(p=!0),f.valueResolver[2]=[a[0][c]])),{done:l,overflow:p,item:{dim:o,currentDim:s,value:e,astVal:f,key:c,store:n}}},e}:function(){var o={},s={},u=null,c=0,l=e[n][t];return o.next=function(){var e,t=!1,o=!1;switch(n){case a.OList:0===c&&i.enter.forEach((function(e){return e(l,s)})),c===r.length?(i.exit.forEach((function(e){return e(l,s)})),t=!0):((e=c++)>=l.length&&(o=!0),i.keyvisited.forEach((function(t){return t(l[e],e,s)})));break;case a.TypeDef:0==c&&(i.enter.forEach((function(e){return e(l,s)})),u=Object.keys(r)),c===u.length?(i.exit.forEach((function(e){return e(l,s)})),t=!0):(!((e=u[c++])in l)&&(o=!0),i.keyvisited.forEach((function(t){return t(l[e],e,s)})));break;default:throw new Error("\n                Can't use `".concat(n,"` type as schema.\n                Only type definition of an ordered list and object can be used as a schema. \n              "))}return{done:t,overflow:o,item:{value:r[e],astVal:l[e],key:e,store:s}}},o},o}function s(e,t,r,s){var u=s.get(s.NS.System),c=s.get(s.NS.User),l=s.get(s.NS.Local);return function r(s){for(var y,h,m,d,b,_=s.subentry()?f:u.isOptional(s),g=p,v=p,k=s.inst(),E=[],T=function(){var p;if(h)return"continue";switch(o(m.astVal,e),m.astVal.typeProcessor[0]){case a.Str:g=u[a.StrChkFn](m,[],{matchObj:t,ast:e},s);break;case a.Num:g=u[a.NumChkFn](m,[],{matchObj:t,ast:e},s);break;case a.Bool:g=u[a.BoolChkFn](m,[],{matchObj:t,ast:e},s);break;case a.Arr:(g=u[a.ArrChkFn](m,[],{matchObj:t,ast:e},s))()&&(p=r(i(e,m,m.value)),g=function(){return p[0]},s.report(m.key,p[1]));break;case a.Ref:p=r(i(e,m.astVal.typeProcessor[1],m.value)),g=function(){return p[0]},s.report(m.key,p[1]);break;case a.Any:g=u[a.Identity]()}switch(m.astVal.valueResolver[0]){case a.Fn:d=[[m.astVal.valueResolver[1]]],b=[u[d[0][0]]];break;case a.UFn:d=m.astVal.valueResolver[1],b=d.map((function(e){return l[e[0]]||c[e[0]]}))}b.forEach((function(e,t){if(!e||"function"!=typeof e)throw new Error("\n            Function `".concat(d[t],"` passed in schema but not defined in the context.\n            Use `helson(schema).context({ /* def here */ })` to define a permanent user context or\n            use `helson(schema).match(..., ..., { /* def here */ })` to define a local context\n          "))})),v=b.map((function(r,o){return r(m,[].concat(n(d[o].slice(1)),n(m.astVal.valueResolver[2]||[])),{matchObj:t,ast:e},s)})),E.push(g()&&v.reduce((function(e,t){return e&&t()}),!0))};y=(S=k.next()).done,h=S.overflow,m=S.item,!y;){var S;T()}return[[_()].concat(E).reduce((function(e,t){return e&&t}),!0),s.getCompleteReport()]}(i(e,r.mount,t))}var a=r(0).Word,u=r(1),c=u.getEnumInf,l=u.hashOfObj,p=function(){return!1},f=function(){return!0};e.exports={verifier:s,postTransformationMutator:function(e,t){var r=e[a.EnumIterables]=e[a.EnumIterables]||{};return function(){var n,o,i,u,p,f,y,h=e[a.Enum];for(n in[a.TypeDef,a.OList].forEach((function(t){for(n in e[t])if({}.hasOwnProperty.call(e[t],n)){var r=void 0;for(r in o=e[t][n])if(o[r].typeProcessor[0]===a.Ref&&(y=o[r].typeProcessor[1])in e[a.Enum]){o[r].typeProcessor.unshift(a.Enum);var i=o[r].valueResolver;i[0]===a.Fn&&i[1]===a.Identity&&(i[1]=a.EnumLookup,i[2]=[y])}}})),h)if(u=h[n],p=c(u),f=r[n]=r[n]||{},p.type===a.Ref){var m=void 0,d=void 0;for(m in u){i=u[m].valueResolver;try{d=JSON.parse(i[2])}catch(e){throw new Error("\n              For key `".concat(m,"` in enum definition `").concat(n,"`:\n              Value can not be parsed to form a JavaScript object.\n              Value should be readable by `JSON.parse`.\n              Original error thrown by `JSON.parse`\n              ").concat(e,"\n            "))}var b=s(e,d,{mount:p.typeArgs},t);if(!b[0])throw new Error("\n              For key `".concat(m,"` in enum definition `").concat(n,"`:\n              Value does not comply to the type definition of `").concat(p.typeArgs,"`.\n              Mismatch details:\n              ").concat(JSON.stringify(b[1],null,2),"\n            "));f[l(d)]=1}}else{var _=void 0;for(_ in u)f[(i=u[_].valueResolver)[2][0]]=1}}}}},function(e,t,r){function n(e){var t,r={},n=!1;if(!a(e))return null;for(t in e)({}).hasOwnProperty.call(e,t)&&"function"==typeof e[t]&&(n=!0,r[t]=e[t]);return n?r:null}var o=r(7).parser,i=r(11),s=r(5).verifier,a=r(1).isSimpleObj,u=r(4).InvalidTypedefId;e.exports=function(e){var t={},a=r(3).createContext(),c=o.parse(e),l=i(c);return t.context=function(e){return a.set(n(e)),t},t.match=function(e,t,r){if(!t||"string"!=typeof t)throw u.errInst();return r=n(r),a.setLocal(r),s(l,e,{mount:t},a)},t}},function(e,t,r){(function(e,n){function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(){function e(e){var t=parseInt(e,10);return isNaN(t)?null:t}function t(){return bits|=arrF,!0}function n(){this.yy={}}var i=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},s=[5,7,11],a=[1,11],u=[1,12],c=[1,31],l=[1,32],p=[1,33],f=[1,34],y=[1,39],h=[1,19],m=[1,35],d=[1,37],b=[12,14,16,18,22,42,46,78,81],_=[12,14,16,18,22,42,44,46,78,81],g=[1,63],v=[12,14,16,18,42,44,46,78,81],k=[22,82],E=[5,7,11,12,14,16,18,22,42,44,46,78,81,103],T=[1,89],S=[1,124],A=[12,14,16,18,42],O=[12,14,16,18,22,42,44,46,78,81,103],P=[12,14,16,18,22,42,44,46,78,81,103,122],C=[12,14,16,18,22,30,42,44,46,78,81,82,84,103,122],R=[30,103],x=[44,103],I=[1,184],N=[1,190],w=[1,191],j=[44,124],F=[1,229],$=[22,82,103],V={trace:function(){},yy:{},symbols_:{error:2,program:3,program_repetition0:4,EOF:5,structs:6,TYPEDEF:7,S_ID:8,def_body:9,enum:10,ENUM:11,STR:12,str_enum_body:13,NUM:14,num_enum_body:15,BOOL:16,bool_enum_body:17,REFERENCE:18,obj_enum_body:19,OPEN_CURB:20,str_enum_body_repetition0:21,CLOSE_CURB:22,str_pair:23,attr:24,COLON:25,str_pair_option0:26,num_enum_body_repetition0:27,num_enum_body_option0:28,num_pair:29,NUMERIC:30,num_pair_option0:31,bool_enum_body_repetition0:32,bool_enum_body_option0:33,bool_pair:34,bool_pair_group0:35,bool_pair_option0:36,obj_enum_body_repetition0:37,obj_pair:38,ANYTHING:39,obj_pair_option0:40,def_body_repetition_plus0:41,OPEN_SQB:42,def_body_repetition_plus1:43,CLOSE_SQB:44,pair:45,OPTIONAL:46,pair_def:47,str_key:48,str_value:49,pair_def_option0:50,num_key:51,num_value:52,pair_def_option1:53,bool_key:54,bool_value:55,pair_def_option2:56,ref_key:57,ref_value:58,pair_def_option3:59,obj_key:60,obj_value:61,pair_def_option4:62,str_arr_key:63,str_arr_value:64,pair_def_option5:65,num_arr_key:66,num_arr_value:67,pair_def_option6:68,bool_arr_key:69,bool_arr_value:70,pair_def_option7:71,ref_arr_key:72,ref_arr_value:73,pair_def_option8:74,any_key:75,any_value:76,pair_def_option9:77,OBJ:78,sqbs:79,sqbs_repetition_plus0:80,ANY:81,TEXT:82,ctx_fn_param:83,NULL:84,ctx_user_fn:85,CTX_USER_FN:86,ctx_user_fn_repetition0:87,ctx_user_fns:88,ctx_user_fns_repetition0:89,IDENTITY:90,FAIL:91,REGEX:92,str_arr_body_valid:93,str_arr_body:94,open_sqb_hook:95,str_arr_body_option0:96,str_arr_body_repetition0:97,close_sqb_hook:98,str_arr_body_repetition1:99,intervals:100,intervals_group0:101,intervals_option0:102,COMMA:103,intervals_option1:104,intervals_group1:105,num_arr_body_valid:106,num_arr_body:107,num_arr_body_option0:108,num_arr_body_repetition0:109,num_arr_body_repetition1:110,num_val_proxy:111,TRUE:112,TRUTHY:113,FALSE:114,FALSY:115,bool_arr_body_valid:116,bool_arr_body:117,bool_arr_body_option0:118,bool_arr_body_repetition0:119,bool_arr_body_repetition1:120,bool_val_proxy:121,OR:122,OPEN_BRAC:123,CLOSE_BRAC:124,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"TYPEDEF",8:"S_ID",11:"ENUM",12:"STR",14:"NUM",16:"BOOL",18:"REFERENCE",20:"OPEN_CURB",22:"CLOSE_CURB",25:"COLON",30:"NUMERIC",39:"ANYTHING",42:"OPEN_SQB",44:"CLOSE_SQB",46:"OPTIONAL",78:"OBJ",81:"ANY",82:"TEXT",84:"NULL",86:"CTX_USER_FN",90:"IDENTITY",91:"FAIL",92:"REGEX",103:"COMMA",112:"TRUE",113:"TRUTHY",114:"FALSE",115:"FALSY",122:"OR",123:"OPEN_BRAC",124:"CLOSE_BRAC"},productions_:[0,[3,2],[6,3],[6,1],[10,4],[10,4],[10,4],[10,5],[13,3],[23,4],[15,4],[29,4],[17,4],[34,4],[19,3],[38,4],[9,3],[9,3],[45,2],[45,1],[47,4],[47,4],[47,4],[47,4],[47,4],[47,4],[47,4],[47,4],[47,4],[47,4],[48,2],[51,2],[54,2],[57,3],[60,2],[63,2],[66,2],[69,2],[72,2],[79,1],[75,2],[24,1],[83,1],[83,1],[83,1],[85,2],[88,2],[49,1],[49,1],[49,1],[49,1],[49,1],[64,1],[64,1],[64,1],[64,1],[93,1],[94,4],[94,4],[95,1],[98,1],[52,1],[52,1],[52,1],[52,1],[52,1],[100,5],[67,1],[67,1],[67,1],[67,1],[106,1],[107,4],[107,4],[111,1],[55,1],[55,1],[55,1],[55,1],[55,1],[55,1],[55,1],[70,1],[70,1],[70,1],[70,1],[116,1],[117,4],[117,4],[121,1],[121,1],[58,1],[58,1],[58,1],[58,2],[73,1],[73,1],[73,1],[61,1],[61,1],[61,1],[61,1],[76,1],[76,1],[76,1],[4,0],[4,2],[21,0],[21,2],[26,0],[26,1],[27,0],[27,2],[28,0],[28,1],[31,0],[31,1],[32,0],[32,2],[33,0],[33,1],[35,1],[35,1],[36,0],[36,1],[37,0],[37,2],[40,0],[40,1],[41,1],[41,2],[43,1],[43,2],[50,0],[50,1],[53,0],[53,1],[56,0],[56,1],[59,0],[59,1],[62,0],[62,1],[65,0],[65,1],[68,0],[68,1],[71,0],[71,1],[74,0],[74,1],[77,0],[77,1],[80,2],[80,3],[87,0],[87,2],[89,0],[89,3],[96,0],[96,1],[97,0],[97,3],[99,0],[99,3],[101,1],[101,1],[102,0],[102,1],[104,0],[104,1],[105,1],[105,1],[108,0],[108,1],[109,0],[109,3],[110,0],[110,3],[118,0],[118,1],[119,0],[119,3],[120,0],[120,3]],performAction:function(r,n,i,s,a,u){var c=u.length-1;switch(a){case 1:return parseTree.makeEntry(Program,{},u[c-1]);case 2:_arrFoundFlag=bits&arrF,bits=0,this.$=parseTree.makeEntry(StructureDefinition,{},[parseTree.makeEntry(StructureIdentifier,{type:u[c][0],id:u[c-1]}),u[c][1]]);break;case 3:this.$=parseTree.makeEntry(StructureDefinition,{},[u[c][0],u[c][1]]);break;case 4:this.$=[parseTree.makeEntry(StructureIdentifier,{type:u[c-3],id:u[c-2],typeArgs:Str}),u[c]];break;case 5:this.$=[parseTree.makeEntry(StructureIdentifier,{type:u[c-3],id:u[c-2],typeArgs:Num}),u[c]];break;case 6:this.$=[parseTree.makeEntry(StructureIdentifier,{type:u[c-3],id:u[c-2],typeArgs:Bool}),u[c]];break;case 7:this.$=[parseTree.makeEntry(StructureIdentifier,{type:u[c-4],id:u[c-3],typeArgs:Ref,subType:u[c-1]}),u[c]];break;case 8:case 14:this.$=parseTree.makeEntry(StructureBody,{},u[c-1]);break;case 9:this.$=parseTree.makeEntry(PairDefinition,{},[parseTree.makeEntry(PairComponentKey,{id:u[c-3]}),parseTree.makeEntry(PairComponentValue,{type:Word.Fn,value:Word.AbEq,args:[u[c-1]]})]);break;case 10:case 12:this.$=parseTree.makeEntry(StructureBody,{},u[c-2]);break;case 11:this.$=parseTree.makeEntry(PairDefinition,{},[parseTree.makeEntry(PairComponentKey,{id:u[c-3]}),parseTree.makeEntry(PairComponentValue,{type:Word.Fn,value:Word.AbEq,args:[+u[c-1]]})]);break;case 13:this.$=parseTree.makeEntry(PairDefinition,{},[parseTree.makeEntry(PairComponentKey,{id:u[c-3]}),parseTree.makeEntry(PairComponentValue,{type:Word.Fn,value:Word.AbEq,args:[u[c-1]]})]);break;case 15:match=u[c-1].match(/\((.+)\)/),this.$=parseTree.makeEntry(PairDefinition,{},[parseTree.makeEntry(PairComponentKey,{id:u[c-3]}),parseTree.makeEntry(PairComponentValue,{type:Word.Fn,value:Word.AbEq,args:match[1]})]);break;case 16:this.$=[TypeDef,parseTree.makeEntry(StructureBody,{},u[c-1])];break;case 17:this.$=[OList,parseTree.makeEntry(StructureBody,{},u[c-1])];break;case 18:this.$=parseTree.makeEntry(PairDefinition,{isOptional:!0},u[c]);break;case 19:this.$=parseTree.makeEntry(PairDefinition,{isOptional:!1},u[c]);break;case 20:this.$=[parseTree.makeEntry(PairComponentKey,{type:Str,id:u[c-3]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 21:this.$=[parseTree.makeEntry(PairComponentKey,{type:Num,id:u[c-3]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 22:this.$=[parseTree.makeEntry(PairComponentKey,{type:Bool,id:u[c-3]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 23:this.$=[parseTree.makeEntry(PairComponentKey,{type:Ref,typeArgs:u[c-3][0],id:u[c-3][1]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 24:this.$=[parseTree.makeEntry(PairComponentKey,{type:Obj,id:u[c-3]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 25:t(),this.$=[parseTree.makeEntry(PairComponentKey,{type:Arr,typeArgs:Str,id:u[c-3],dim:dim}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 26:t(),this.$=[parseTree.makeEntry(PairComponentKey,{type:Arr,typeArgs:Num,id:u[c-3],dim:dim}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 27:t(),this.$=[parseTree.makeEntry(PairComponentKey,{type:Arr,typeArgs:Bool,id:u[c-3],dim:dim}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 28:t(),this.$=[parseTree.makeEntry(PairComponentKey,{type:Arr,typeArgs:Word.Ref,subType:u[c-3][0][0],id:u[c-3][0][1],dim:u[c-3][1]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 29:this.$=[parseTree.makeEntry(PairComponentKey,{type:Any,id:u[c-3]}),parseTree.makeEntry(PairComponentValue,u[c-1])];break;case 30:case 31:case 32:case 34:case 40:this.$=u[c];break;case 33:this.$=[u[c-1],u[c]];break;case 35:case 36:case 37:dim=u[c-1].length,this.$=u[c];break;case 38:this.$=[u[c],u[c-1].length];break;case 41:this.$=r.replace(/^"|"$/g,""),collector&&collector.push(this.$);break;case 43:this.$=+u[c];break;case 45:queue.push([u[c-1]].concat(o(u[c])));break;case 46:this.$=queue.slice(0),queue.length=0;break;case 47:case 48:case 52:case 53:case 61:case 62:case 67:case 68:case 82:case 83:case 91:case 92:case 95:case 96:case 98:case 99:case 102:case 103:this.$={type:Fn,value:u[c]};break;case 49:this.$={type:Fn,value:AbEq,args:[u[c]]};break;case 50:this.$={type:Fn,value:AbEq,args:[u[c],Word.Transformer.Str.Pattern]};break;case 51:case 65:case 93:case 97:case 101:case 104:this.$={type:UFn,value:u[c]};break;case 54:case 69:case 84:this.$={type:Fn,value:ArrAbEq,args:[u[c]]};break;case 55:case 70:case 81:case 85:this.$={type:UFn,value:u[c]};break;case 56:case 71:case 86:(function(){if(buffer=rcg,rcg=null,ptrToCurrentRCG=null,dimEqstatus=valueDims.reduce((function(e,t){return t===e?e:-1}),dim),-1===dimEqstatus)throw new Error("Array dimension does not match");valueDims.length=0})(),this.$=buffer;break;case 57:case 58:case 72:case 73:case 87:case 88:this.$=rcg;break;case 59:ptrToCurrentRCG=[],(parent=stack[stack.length-1])?(delete parent.__leaf__,parent.push(ptrToCurrentRCG)):rcg=ptrToCurrentRCG,ptrToCurrentRCG.__leaf__=!0,stack.push(ptrToCurrentRCG),collector=ptrToCurrentRCG,rcgCount+=1;break;case 60:abductedNode=stack.splice(stack.length-1,1)[0],abductedNode.__leaf__&&(valueDims.push(rcgCount),delete abductedNode.__leaf__),collector=null,rcgCount-=1;break;case 63:this.$={type:Fn,value:u[c][0],args:u[c].slice(1)};break;case 64:this.$={type:Fn,value:AbEq,args:[+u[c]]};break;case 66:this.$=["".concat("("===u[c-4]?"lo":"lc").concat(")"===u[c]?"ro":"rc","Range"),e(u[c-3]),e(u[c-1])];break;case 74:collector&&collector.push(+this.$);break;case 75:case 76:case 78:case 80:this.$={type:Fn,value:u[c]};break;case 77:case 79:this.$={type:Fn,value:AbEq,args:[u[c]]};break;case 89:case 90:collector&&collector.push(this.$);break;case 94:this.$={type:Ref,value:u[c]};break;case 100:this.$={type:Rec,value:u[c][1]};break;case 105:case 107:case 111:case 117:case 125:case 155:case 157:case 161:case 163:case 175:case 177:case 181:case 183:this.$=[];break;case 106:case 108:case 112:case 118:case 126:case 130:case 132:case 156:u[c-1].push(u[c]);break;case 129:case 131:this.$=[u[c]];break;case 153:this.$=[u[c-1]];break;case 154:case 158:case 162:case 164:case 176:case 178:case 182:case 184:u[c-2].push(u[c-1])}},table:[i(s,[2,105],{3:1,4:2}),{1:[3]},{5:[1,3],6:4,7:[1,5],10:6,11:[1,7]},{1:[2,1]},i(s,[2,106]),{8:[1,8]},i(s,[2,3]),{8:[1,9]},{9:10,20:a,42:u},{12:[1,13],14:[1,14],16:[1,15],18:[1,16]},i(s,[2,2]),{12:c,14:l,16:p,18:f,41:17,42:y,45:18,46:h,47:20,48:21,51:22,54:23,57:24,60:25,63:26,66:27,69:28,72:29,75:30,78:m,79:36,80:38,81:d},{12:c,14:l,16:p,18:f,42:y,43:40,45:41,46:h,47:20,48:21,51:22,54:23,57:24,60:25,63:26,66:27,69:28,72:29,75:30,78:m,79:36,80:38,81:d},{13:42,20:[1,43]},{15:44,20:[1,45]},{17:46,20:[1,47]},{8:[1,48]},{12:c,14:l,16:p,18:f,22:[1,49],42:y,45:50,46:h,47:20,48:21,51:22,54:23,57:24,60:25,63:26,66:27,69:28,72:29,75:30,78:m,79:36,80:38,81:d},i(b,[2,129]),{12:c,14:l,16:p,18:f,42:y,47:51,48:21,51:22,54:23,57:24,60:25,63:26,66:27,69:28,72:29,75:30,78:m,79:36,80:38,81:d},i(_,[2,19]),{25:[1,52]},{25:[1,53]},{25:[1,54]},{25:[1,55]},{25:[1,56]},{25:[1,57]},{25:[1,58]},{25:[1,59]},{25:[1,60]},{25:[1,61]},{24:62,82:g},{24:64,82:g},{24:65,82:g},{8:[1,66]},{24:67,82:g},{12:c,14:l,16:p,18:f,48:68,51:69,54:70,57:71},{24:72,82:g},i([12,14,16,18],[2,39],{42:[1,73]}),{44:[1,74]},{12:c,14:l,16:p,18:f,42:y,44:[1,75],45:76,46:h,47:20,48:21,51:22,54:23,57:24,60:25,63:26,66:27,69:28,72:29,75:30,78:m,79:36,80:38,81:d},i(v,[2,131]),i(s,[2,4]),i(k,[2,107],{21:77}),i(s,[2,5]),i(k,[2,111],{27:78}),i(s,[2,6]),i(k,[2,117],{32:79}),{19:80,20:[1,81]},i(E,[2,16]),i(b,[2,130]),i(_,[2,18]),{24:85,49:82,82:g,85:88,86:T,88:87,90:[1,83],91:[1,84],92:[1,86]},{30:[1,94],42:[1,98],52:90,85:88,86:T,88:95,90:[1,91],91:[1,92],100:93,101:96,123:[1,97]},{55:99,85:88,86:T,88:106,90:[1,100],91:[1,101],112:[1,102],113:[1,103],114:[1,104],115:[1,105]},{18:[1,111],58:107,85:88,86:T,88:110,90:[1,108],91:[1,109]},{9:115,20:a,42:u,61:112,85:88,86:T,88:116,90:[1,113],91:[1,114]},{42:S,64:117,85:88,86:T,88:121,90:[1,118],91:[1,119],93:120,94:122,95:123},{42:S,67:125,85:88,86:T,88:129,90:[1,126],91:[1,127],95:131,106:128,107:130},{42:S,70:132,85:88,86:T,88:136,90:[1,133],91:[1,134],95:138,116:135,117:137},{73:139,85:88,86:T,88:142,90:[1,140],91:[1,141]},{76:143,85:88,86:T,88:146,90:[1,144],91:[1,145]},{25:[2,30]},i([12,14,16,18,22,25,42,44,46,78,81,82,103],[2,41]),{25:[2,31]},{25:[2,32]},{24:147,82:g},{25:[2,34]},{25:[2,35]},{25:[2,36]},{25:[2,37]},{25:[2,38]},{25:[2,40]},{44:[1,148]},i(A,[2,153]),i(E,[2,17]),i(v,[2,132]),{22:[1,149],23:150,24:151,82:g},{22:[1,152],24:154,29:153,82:g},{22:[1,155],24:157,34:156,82:g},i(s,[2,7]),i(k,[2,125],{37:158}),i(_,[2,133],{50:159,103:[1,160]}),i(O,[2,47]),i(O,[2,48]),i(O,[2,49]),i(O,[2,50]),i(O,[2,51]),i(P,[2,157],{89:161}),i(C,[2,155],{87:162}),i(_,[2,135],{53:163,103:[1,164]}),i(O,[2,61]),i(O,[2,62]),i(O,[2,63]),i(O,[2,64]),i(O,[2,65]),{30:[1,166],102:165,103:[2,167]},i(R,[2,165]),i(R,[2,166]),i(_,[2,137],{56:167,103:[1,168]}),i(O,[2,75]),i(O,[2,76]),i(O,[2,77]),i(O,[2,78]),i(O,[2,79]),i(O,[2,80]),i(O,[2,81]),i(_,[2,139],{59:169,103:[1,170]}),i(O,[2,91]),i(O,[2,92]),i(O,[2,93]),{24:171,82:g},i(_,[2,141],{62:172,103:[1,173]}),i(O,[2,98]),i(O,[2,99]),i(O,[2,100]),i(O,[2,101]),i(_,[2,143],{65:174,103:[1,175]}),i(O,[2,52]),i(O,[2,53]),i(O,[2,54]),i(O,[2,55]),i(O,[2,56]),i(x,[2,159],{95:123,96:176,94:177,24:178,42:S,82:g}),i([30,42,44,82,103,112,114],[2,59]),i(_,[2,145],{68:179,103:[1,180]}),i(O,[2,67]),i(O,[2,68]),i(O,[2,69]),i(O,[2,70]),i(O,[2,71]),i(x,[2,173],{95:131,108:181,107:182,111:183,30:I,42:S}),i(_,[2,147],{71:185,103:[1,186]}),i(O,[2,82]),i(O,[2,83]),i(O,[2,84]),i(O,[2,85]),i(O,[2,86]),i(x,[2,179],{95:138,118:187,117:188,121:189,42:S,112:N,114:w}),i(_,[2,149],{74:192,103:[1,193]}),i(O,[2,95]),i(O,[2,96]),i(O,[2,97]),i(_,[2,151],{77:194,103:[1,195]}),i(O,[2,102]),i(O,[2,103]),i(O,[2,104]),{25:[2,33]},i(A,[2,154]),i(s,[2,8]),i(k,[2,108]),{25:[1,196]},i(s,[2,113],{28:197,103:[1,198]}),i(k,[2,112]),{25:[1,199]},i(s,[2,119],{33:200,103:[1,201]}),i(k,[2,118]),{25:[1,202]},{22:[1,203],24:205,38:204,82:g},i(_,[2,20]),i(_,[2,134]),i(O,[2,46],{122:[1,206]}),i(P,[2,45],{83:207,30:[1,209],82:[1,208],84:[1,210]}),i(_,[2,21]),i(_,[2,136]),{103:[1,211]},{103:[2,168]},i(_,[2,22]),i(_,[2,138]),i(_,[2,23]),i(_,[2,140]),i(O,[2,94]),i(_,[2,24]),i(_,[2,142]),i(_,[2,25]),i(_,[2,144]),i(x,[2,161],{97:212}),i(x,[2,163],{99:213}),i(x,[2,160]),i(_,[2,26]),i(_,[2,146]),i(x,[2,175],{109:214}),i(x,[2,177],{110:215}),i(x,[2,174]),i(x,[2,74]),i(_,[2,27]),i(_,[2,148]),i(x,[2,181],{119:216}),i(x,[2,183],{120:217}),i(x,[2,180]),i(x,[2,89]),i(x,[2,90]),i(_,[2,28]),i(_,[2,150]),i(_,[2,29]),i(_,[2,152]),{24:218,82:g},i(s,[2,10]),i(s,[2,114]),{30:[1,219]},i(s,[2,12]),i(s,[2,120]),{35:220,112:[1,221],114:[1,222]},i(s,[2,14]),i(k,[2,126]),{25:[1,223]},{85:224,86:T},i(C,[2,156]),i(C,[2,42]),i(C,[2,43]),i(C,[2,44]),i(j,[2,169],{104:225,30:[1,226]}),{44:F,98:227,103:[1,228]},{44:F,98:230,103:[1,231]},{44:F,98:232,103:[1,233]},{44:F,98:234,103:[1,235]},{44:F,98:236,103:[1,237]},{44:F,98:238,103:[1,239]},i(k,[2,109],{26:240,103:[1,241]}),i(k,[2,115],{31:242,103:[1,243]}),i(k,[2,123],{36:244,103:[1,245]}),i($,[2,121]),i($,[2,122]),{39:[1,246]},i(P,[2,158]),{44:[1,248],105:247,124:[1,249]},i(j,[2,170]),i(O,[2,57]),{24:250,82:g},i(O,[2,60]),i(O,[2,58]),{42:S,94:251,95:123},i(O,[2,72]),{30:I,111:252},i(O,[2,73]),{42:S,95:131,107:253},i(O,[2,87]),{112:N,114:w,121:254},i(O,[2,88]),{42:S,95:138,117:255},i(k,[2,9]),i(k,[2,110]),i(k,[2,11]),i(k,[2,116]),i(k,[2,13]),i(k,[2,124]),i(k,[2,127],{40:256,103:[1,257]}),i(O,[2,66]),i(O,[2,171]),i(O,[2,172]),i(x,[2,162]),i(x,[2,164]),i(x,[2,176]),i(x,[2,178]),i(x,[2,182]),i(x,[2,184]),i(k,[2,15]),i(k,[2,128])],defaultActions:{3:[2,1],62:[2,30],64:[2,31],65:[2,32],67:[2,34],68:[2,35],69:[2,36],70:[2,37],71:[2,38],72:[2,40],147:[2,33],166:[2,168]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],o=[],i=this.table,s="",a=0,u=0,c=0,l=1,p=o.slice.call(arguments,1),f=Object.create(this.lexer),y={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(y.yy[h]=this.yy[h]);f.setInput(e,y.yy),y.yy.lexer=f,y.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var d=f.options&&f.options.ranges;this.parseError="function"==typeof y.yy.parseError?y.yy.parseError:Object.getPrototypeOf(this).parseError;for(var b,_,g,v,k,E,T,S,A,O=function(){var e;return"number"!=typeof(e=f.lex()||l)&&(e=t.symbols_[e]||e),e},P={};;){if(g=r[r.length-1],this.defaultActions[g]?v=this.defaultActions[g]:(null==b&&(b=O()),v=i[g]&&i[g][b]),void 0===v||!v.length||!v[0]){var C="";for(E in A=[],i[g])this.terminals_[E]&&E>2&&A.push("'"+this.terminals_[E]+"'");C=f.showPosition?"Parse error on line "+(a+1)+":\n"+f.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(a+1)+": Unexpected "+(b==l?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(C,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:A})}if(v[0]instanceof Array&&1<v.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+b);switch(v[0]){case 1:r.push(b),n.push(f.yytext),o.push(f.yylloc),r.push(v[1]),b=null,_?(b=_,_=null):(u=f.yyleng,s=f.yytext,a=f.yylineno,m=f.yylloc,0<c&&c--);break;case 2:if(T=this.productions_[v[1]][1],P.$=n[n.length-T],P._$={first_line:o[o.length-(T||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(T||1)].first_column,last_column:o[o.length-1].last_column},d&&(P._$.range=[o[o.length-(T||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(P,[s,u,a,y.yy,v[1],n,o].concat(p))))return k;T&&(r=r.slice(0,-1*T*2),n=n.slice(0,-1*T),o=o.slice(0,-1*T)),r.push(this.productions_[v[1]][0]),n.push(P.$),o.push(P._$),S=i[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}};parseTree=r(0),Word=parseTree.Word,Program=Word.Program,StructureDefinition=Word.StructureDefinition,StructureIdentifier=Word.StructureIdentifier,StructureBody=Word.StructureBody,PairDefinition=Word.PairDefinition,PairComponentKey=Word.PairComponentKey,PairComponentValue=Word.PairComponentValue,Str=Word.Str,OList=Word.OList,Enum=Word.Enum,Num=Word.Num,Bool=Word.Bool,Ref=Word.Ref,Obj=Word.Obj,Arr=Word.Arr,Any=Word.Any,Fn=Word.Fn,AbEq=Word.AbEq,ArrAbEq=Word.ArrAbEq,UFn=Word.UFn,Rec=Word.Rec,TypeDef=Word.TypeDef,dim=null,collector=null,buffer=null,rcg=null,stack=[],queue=[],valueDims=[],ptrToCurrentRCG=null,pathRCG=null,rcgCount=0,bits=0,arrF=1;var L={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return 20>e.length&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((r=this._input.match(this.rules[o[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return this.begin("fn"),7;case 2:return"OLIST";case 3:return 46;case 4:return this.begin("grp"),11;case 5:return 12;case 6:return 14;case 7:return 16;case 8:return 78;case 9:return 90;case 10:return 91;case 11:return 112;case 12:return 114;case 13:return 113;case 14:return 115;case 15:return 81;case 16:return"ANYOF";case 17:return"ALLOF";case 18:return"UNORDERED";case 19:return 84;case 20:return 42;case 21:return 44;case 22:return 123;case 23:return 124;case 24:return 20;case 25:return 22;case 26:return 18;case 27:return 122;case 28:return 25;case 29:return 103;case 30:return"NOT";case 31:return 92;case 32:return 8;case 33:return 86;case 34:return 30;case 35:return 82;case 36:return 39;case 37:return 5}},rules:[/^(?:\s+)/,/^(?:typedef\b)/,/^(?:olist\b)/,/^(?:optnl\b)/,/^(?:enum\b)/,/^(?:str\b)/,/^(?:num\b)/,/^(?:bool\b)/,/^(?:obj\b)/,/^(?:pass\b)/,/^(?:fail\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:truthy\b)/,/^(?:falsy\b)/,/^(?:any\b)/,/^(?:anyOf\b)/,/^(?:allOf\b)/,/^(?:unordered\b)/,/^(?:null\b)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:\{)/,/^(?:\})/,/^(?:&)/,/^(?:\|)/,/^(?::)/,/^(?:,)/,/^(?:!)/,/^(?:(\/.*\/))/,/^(?:([A-Z][a-zA-Z0-9_]*))/,/^(?:([a-zA-Z_]+[a-zA-Z0-9_]*))/,/^(?:(-?[0-9]+(\.[0-9]+)?))/,/^(?:("[^"]*"))/,/^(?:(\(.+\)))/,/^(?:$)/],conditions:{fn:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,37],inclusive:!0},grp:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,24,25,26,27,28,29,30,31,32,33,34,35,37],inclusive:!0}}};return V.lexer=L,n.prototype=V,V.Parser=n,new n}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var o=r(9).readFileSync(r(10).normalize(n[1]),"utf8");return t.parser.parse(o)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r(2),r(8)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(){},function(e,t,r){(function(e){function r(e,t){for(var r,n=0,o=e.length-1;0<=o;o--)"."===(r=e[o])?e.splice(o,1):".."===r?(e.splice(o,1),n++):n&&(e.splice(o,1),n--);if(t)for(;n--;n)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t,o="",i=!1,s=arguments.length-1;-1<=s&&!i;s--){if("string"!=typeof(t=0<=s?arguments[s]:e.cwd()))throw new TypeError("Arguments to path.resolve must be strings");t&&(o=t+"/"+o,i="/"===t.charAt(0))}return(i?"/":"")+(o=r(n(o.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===o(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,u=0;u<s;u++)if(o[u]!==i[u]){a=u;break}var c=[];for(u=a;u<o.length;u++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,i=e.length-1;1<=i;--i)if(47!==(t=e.charCodeAt(i)))o=!1;else if(!o){n=i;break}return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,o=!0;for(t=e.length-1;0<=t;--t)if(47!==e.charCodeAt(t))-1==n&&(o=!1,n=t+1);else if(!o){r=t+1;break}return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t,r=-1,n=0,o=-1,i=!0,s=0,a=e.length-1;0<=a;--a)if(47!==(t=e.charCodeAt(a)))-1==o&&(i=!1,o=a+1),46===t?-1===r?r=a:1!=s&&(s=1):-1!==r&&(s=-1);else if(!i){n=a+1;break}return-1===r||-1===o||0==s||1==s&&r===o-1&&r===n+1?"":e.slice(r,o)};var o=function(e,t,r){return e.substr(t,r)}}).call(this,r(2))},function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(12),i=r(0).Word,s=r(3).createContext(),a=r(5).postTransformationMutator;e.exports=function(e){var t,r,u=(n(t={},i.Enum,{}),n(t,i.TypeDef,{}),n(t,i.OList,{}),t),c={type:null,id:null,typeArgs:null,subType:null},l=null,p=null,f=null,y=null;return o(e,(n(r={},i.StructureDefinition,{exit:function(){c.type=null,c.id=null,c.typeArgs=null,c.subType=null,y=null}}),n(r,i.StructureIdentifier,{enter:function(e){c.type=e.properties.type,c.id=e.properties.id,c.typeArgs=void 0===e.properties.typeArgs?null:e.properties.typeArgs,c.subType=void 0===e.properties.subType?null:e.properties.subType,y=u[c.type]}}),n(r,i.StructureBody,{enter:function(){l=function(e){return{push:function(t,r){e instanceof Array?e.push(r):e[t]=r},serialize:function(){return e}}}(c.type===i.OList?[]:{})},exit:function(){y[c.id]=l.serialize(),l=null}}),n(r,i.PairDefinition,{enter:function(e){f=e.properties.isOptional,p=c.type===i.Enum?{}:{preProcessor:["optionality",f]}},exit:function(){l.push(p.keyId,p),p=null,f=null}}),n(r,i.PairComponentKey,{enter:function(e){var t;if(c.type===i.Enum)p.typeProcessor=[c.type,c.typeArgs,void 0===c.subType?null:c.subType];else if(p.typeProcessor=[e.properties.type,void 0===e.properties.typeArgs?null:e.properties.typeArgs,void 0===e.properties.subType?null:e.properties.subType],e.properties.type===i.Arr&&1<(t=e.properties.dim))for(;t---1;)p.typeProcessor.unshift(i.Arr);p.keyId=e.properties.id}}),n(r,i.PairComponentValue,{enter:function(e,t,r){if(e.properties.type===i.Rec){var n="@".concat(r.children.length);p.typeProcessor=[i.Ref,n],p.valueResolver=[i.Fn,i.Identity,null,{ns:s.NS.System}],r.children.push(function(e,t){return{nodeType:i.StructureDefinition,properties:{},children:[{nodeType:i.StructureIdentifier,properties:{type:i.TypeDef,id:e},children:[]},t]}}(n,e.properties.value))}else{var o;switch(e.properties.type){case i.UFn:o=s.NS.User;break;default:o=s.NS.System}p.valueResolver=[e.properties.type,e.properties.value,void 0===e.properties.args?null:e.properties.args,{ns:o}]}}}),r),{walkComplete:a(u,s)}),u}},function(e,t,r){var n=r(0).Word,o=function(e,t,r){for(var n=0,o=e.length;n<o;)i(e[n],t,r),n++,o=e.length},i=function(e,t,r){var i=e.nodeType,s=r.visitor[i];switch(s&&s.enter&&s.enter(e,t,r.root),i){case n.Program:case n.StructureDefinition:case n.StructureBody:case n.StructureIdentifier:case n.PairDefinition:o(e.children,e,r)}s&&s.exit&&s.exit(e,t)};e.exports=function(e,t,r){i(e,null,{visitor:t,root:e}),(r=r||{}).walkComplete&&r.walkComplete()}}])}));